/*
 * Rubberband - Responsive breakpoint events
 * @author Ben Plum
 * @version 2.0.9
 *
 * Copyright Â© 2013 Ben Plum <mr@benplum.com>
 * Released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

if(jQuery)(function(e){function q(a){a=a||{};for(var b in f)c[b]=a[b]?e.merge(a[b],c[b]):c[b];c=e.extend(c,a);c.minWidth.sort(k);c.maxWidth.sort(l);c.minHeight.sort(k);c.maxHeight.sort(l);for(b in f){g[b]={};for(var d in c[b])a=window.matchMedia("("+f[b]+": "+(Infinity==c[b][d]?1E5:c[b][d])+c.unit+")"),a.addListener(m),g[b][c[b][d]]=a}m()}function m(){null!=h&&(clearTimeout(h),h=null);h=setTimeout(function(){d={};for(var a in f)for(var b in g[a])if(g[a][b].matches){var c="Infinity"==b?Infinity:parseInt(b,10); if(-1<a.indexOf("max")){if(!d[a]||c<d[a])d[a]=c}else if(!d[a]||c>d[a])d[a]=c}e(window).trigger("snap",[d]);n.resolve()},c.debouce)}function l(a,b){return b-a}function k(a,b){return a-b}var r=void 0!==window.matchMedia,c={debounce:5,minWidth:[0],maxWidth:[Infinity],minHeight:[0],maxHeight:[Infinity],unit:"px"},g={},f={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"},h=null,d=void 0,n=new e.Deferred,p={ready:function(){return n.promise()},state:function(){return d}}; e.rubberband=function(a){if(r){if(p[a])return p[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return q.apply(this,arguments)}return this}})(jQuery);